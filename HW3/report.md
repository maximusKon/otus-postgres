* —Å–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É c Ubuntu 20.04/22.04 LTS –≤ GCE/–Ø–û/Virtual Box/–¥–æ–∫–µ—Ä–µ - —Å–¥–µ–ª–∞–Ω–æ
* –ø–æ—Å—Ç–∞–≤—å—Ç–µ –Ω–∞ –Ω–µ–µ PostgreSQL 15 —á–µ—Ä–µ–∑ sudo apt - —Å–¥–µ–ª–∞–Ω–æ
* –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–ª–∞—Å—Ç–µ—Ä –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ sudo -u postgres pg_lsclusters - —Å–¥–ª–∞–Ω–æ
* –∑–∞–π–¥–∏—Ç–µ –∏–∑ –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è postgres –≤ psql –∏ —Å–¥–µ–ª–∞–π—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º - —Å–¥–µ–ª–∞–Ω–æ
postgres=# create table test(c1 text);
postgres=# insert into test values('1');
\q
* –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ postgres –Ω–∞–ø—Ä–∏–º–µ—Ä —á–µ—Ä–µ–∑ sudo -u postgres pg_ctlcluster 15 main stop - —Å–¥–µ–ª–∞–Ω–æ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π —É–±–µ–¥–∏–ª—Å—è –≤ —ç—Ç–æ–º –ø–æ–ø—ã—Ç–∞–≤—à–∏—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è —á–µ—Ä–µ–∑ psql)
* —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –¥–∏—Å–∫ –∫ –í–ú —Ä–∞–∑–º–µ—Ä–æ–º 10GB - —Å–¥–µ–ª–∞–Ω–æ
* –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–µ–∂–µ-—Å–æ–∑–¥–∞–Ω–Ω—ã–π –¥–∏—Å–∫ –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ - –Ω–∞–¥–æ –∑–∞–π—Ç–∏ –≤ —Ä–µ–∂–∏–º –µ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–∞–ª—å—à–µ –≤—ã–±—Ä–∞—Ç—å –ø—É–Ω–∫—Ç attach existing disk - —Å–¥–µ–ª–∞–Ω–æ
* –ø—Ä–æ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–∏—Å–∫ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –ø–æ–¥–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É, —Ç–æ–ª—å–∫–æ –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –º–µ–Ω—è—Ç—å –∏–º—è –¥–∏—Å–∫–∞ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ, –≤ –≤–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –±—É–¥–µ—Ç /dev/sdb - https://www.digitalocean.com/community/tutorials/how-to-partition-and-format-storage-devices-in-linux
* –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–Ω—Å—Ç–∞–Ω—Å –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∏—Å–∫ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º (–µ—Å–ª–∏ –Ω–µ —Ç–∞–∫ —Å–º–æ—Ç—Ä–∏–º –≤ —Å—Ç–æ—Ä–æ–Ω—É fstab) - —Å–¥–µ–ª–∞–Ω–æ
* —Å–¥–µ–ª–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è postgres –≤–ª–∞–¥–µ–ª—å—Ü–µ–º /mnt/data - chown -R postgres:postgres /mnt/data/ - —Å–¥–µ–ª–∞–Ω–æ (–±–µ–∑ –ø–æ—á–µ–º—É-—Ç–æ –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å sudo)
* –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ /var/lib/postgres/15 –≤ /mnt/data - mv /var/lib/postgresql/15 /mnt/data - —Å–¥–µ–ª–∞–Ω–æ
* –ø–æ–ø—ã—Ç–∞–π—Ç–µ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä - sudo -u postgres pg_ctlcluster 15 main start - —Å–¥–µ–ª–∞–Ω–æ
* –Ω–∞–ø–∏—à–∏—Ç–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –∏–ª–∏ –Ω–µ—Ç –∏ –ø–æ—á–µ–º—É - –Ω–µ—Ç, —Ç–∞–∫ –∫–∞–∫ –º—ã –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ –≤ /mnt/data
* –∑–∞–¥–∞–Ω–∏–µ: –Ω–∞–π—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ —Ñ–∞–π–ª–∞—Ö —Ä–∞–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ /etc/postgresql/15/main –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–¥–æ –ø–æ–º–µ–Ω—è—Ç—å –∏ –ø–æ–º–µ–Ω—è–π—Ç–µ –µ–≥–æ - —Å–¥–µ–ª–∞–Ω–æ
* –Ω–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ –∏ –ø–æ—á–µ–º—É –ø–æ–º–µ–Ω—è–ª–∏ - —É—Å—Ç–∞–Ω–æ–≤–∏–ª data_directory = '/mnt/data/15/main', —Ç–∞–∫ –∫–∞–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≤ —Ü–µ–ª–æ–º –æ—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ —ç—Ç–æ –∫–∞–∫ —Ä–∞–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä, —É–∫–∞–∑—ã–≤–∞—é—â–π, –Ω–∞ –∫–∞–∫—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –Ω—É–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–∞–Ω–Ω—ã–º–∏ (–Ω—É, –∞ –µ—â—ë —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—ã–ª–æ '/var/lib/postgresql/15' üôÇ)
* –ø–æ–ø—ã—Ç–∞–π—Ç–µ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä - sudo -u postgres pg_ctlcluster 15 main start - —Å–¥–µ–ª–∞–Ω–æ
* –Ω–∞–ø–∏—à–∏—Ç–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –∏–ª–∏ –Ω–µ—Ç –∏ –ø–æ—á–µ–º—É - –ø–æ–ª—É—á–∏–ª–æ—Å—å, —Ç–∞–∫ –∫–∞–∫ —Ç–µ–ø–µ—Ä—å data_directory —Ä–∞–≤–µ–Ω '/mnt/data/15/main', —á—Ç–æ –º—ã –∏ –≤–∏–¥–∏–º –≤ –≤—ã–≤–æ–¥–µ
* –∑–∞–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ —á–µ—Ä–µ–∑ psql –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã - –≤—Å—ë –Ω–∞ –º–µ—Å—Ç–µ
